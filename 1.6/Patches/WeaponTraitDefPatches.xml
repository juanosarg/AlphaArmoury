<?xml version="1.0" encoding="utf-8" ?>
<Patch>
	<Operation Class="PatchOperationAddModExtension">
		<xpath>Defs/WeaponTraitDef[defName = "StabilizerBrace"]</xpath>
		<value>
			<li Class="VEF.Weapons.WeaponTraitDefExtension">
				<graphicOverrideCommonality>0.001</graphicOverrideCommonality>
				<graphicOverrides>
					<li>
						<key>Gun_Revolver_Unique</key>
						<value>
							<texPath>Things/Weapon/AArmoury_StabilizerBrace</texPath>
							<graphicClass>Graphic_Random</graphicClass>
							<shaderType>CutoutComplex</shaderType>
						</value>
					</li>
				</graphicOverrides>
			</li>
		</value>
	</Operation>
	<Operation Class="PatchOperationAddModExtension">
		<xpath>Defs/WeaponTraitDef[defName = "PulseCharger"]</xpath>
		<value>
			<li Class="VEF.Weapons.WeaponTraitDefExtension">
				<projectileOverride>AArmoury_PulseBullet</projectileOverride>
				<lowPreferenceProjectileOverride>true</lowPreferenceProjectileOverride>
				<soundOverride>AArmoury_Pulse</soundOverride>
				<graphicOverrideCommonality>0.001</graphicOverrideCommonality>
				<graphicOverrides>
					<li>
						<key>Gun_Revolver_Unique</key>
						<value>
							<texPath>Things/Weapon/AArmoury_PulseCharger</texPath>
							<graphicClass>Graphic_Random</graphicClass>
							<shaderType>CutoutComplex</shaderType>
						</value>
					</li>
				</graphicOverrides>
			</li>
		</value>
	</Operation>
	<Operation Class="PatchOperationAddModExtension">
		<xpath>Defs/WeaponTraitDef[defName = "PrecisionScope"]</xpath>
		<value>
			<li Class="VEF.Weapons.WeaponTraitDefExtension">
				
				<graphicOverrideCommonality>0.001</graphicOverrideCommonality>
				<graphicOverrides>
					<li>
						<key>Gun_SniperRifle_Unique</key>
						<value>
							<texPath>Things/Weapon/AArmoury_PrecisionScope</texPath>
							<graphicClass>Graphic_Random</graphicClass>
							<shaderType>CutoutComplex</shaderType>
						</value>
					</li>
				</graphicOverrides>
			</li>
		</value>
	</Operation>
	<Operation Class="PatchOperationAddModExtension">
		<xpath>Defs/WeaponTraitDef[defName = "RangefinderScope"]</xpath>
		<value>
			<li Class="VEF.Weapons.WeaponTraitDefExtension">
				
				<graphicOverrideCommonality>0.001</graphicOverrideCommonality>
				<graphicOverrides>
					<li>
						<key>Gun_SniperRifle_Unique</key>
						<value>
							<texPath>Things/Weapon/AArmoury_RangefinderScope</texPath>
							<graphicClass>Graphic_Random</graphicClass>
							<shaderType>CutoutComplex</shaderType>
						</value>
					</li>
				</graphicOverrides>
			</li>
		</value>
	</Operation>
	<Operation Class="PatchOperationAddModExtension">
		<xpath>Defs/WeaponTraitDef[defName = "ExtendedBarrel"]</xpath>
		<value>
			<li Class="VEF.Weapons.WeaponTraitDefExtension">
				<graphicOverrideCommonality>0.001</graphicOverrideCommonality>
				<graphicOverrides>
					<li>
						<key>Gun_BoltActionRifle_Unique</key>
						<value>
							<texPath>Things/Weapon/AArmoury_ExtendedBarrel/AArmoury_ExtendedBarrel_Bolt</texPath>
							<graphicClass>Graphic_Random</graphicClass>
							<shaderType>CutoutComplex</shaderType>
						</value>
					</li>
					<li>
						<key>Gun_AssaultRifle_Unique</key>
						<value>
							<texPath>Things/Weapon/AArmoury_ExtendedBarrel/AArmoury_ExtendedBarrel_Assault</texPath>
							<graphicClass>Graphic_Random</graphicClass>
							<shaderType>CutoutComplex</shaderType>
						</value>
					</li>
					<li>
						<key>Gun_SniperRifle_Unique</key>
						<value>
							<texPath>Things/Weapon/AArmoury_ExtendedBarrel/AArmoury_ExtendedBarrel_Sniper</texPath>
							<graphicClass>Graphic_Random</graphicClass>
							<shaderType>CutoutComplex</shaderType>
						</value>
					</li>
					<li>
						<key>Gun_ChargeRifle_Unique</key>
						<value>
							<texPath>Things/Weapon/AArmoury_ExtendedBarrel/AArmoury_ExtendedBarrel_Charge</texPath>
							<graphicClass>Graphic_Random</graphicClass>
							<shaderType>CutoutComplex</shaderType>
						</value>
					</li>
				</graphicOverrides>
				<sizeMultiplier>1.4</sizeMultiplier>
			</li>
		</value>
	</Operation>
	
	<Operation Class="PatchOperationAddModExtension">
		<xpath>Defs/WeaponTraitDef[defName = "ChargeCapacitor"]</xpath>
		<value>
			<li Class="VEF.Weapons.WeaponTraitDefExtension">
				<graphicOverrideCommonality>0.001</graphicOverrideCommonality>
				<graphicOverrides>
					<li>
						<key>Gun_ChargeLance_Unique</key>
						<value>
							<texPath>Things/Weapon/AArmoury_ChargeCapacitor/AArmoury_ChargeCapacitor_Lance</texPath>
							<graphicClass>Graphic_Random</graphicClass>
							<shaderType>CutoutComplex</shaderType>
						</value>
					</li>
					
					<li>
						<key>Gun_ChargeRifle_Unique</key>
						<value>
							<texPath>Things/Weapon/AArmoury_ChargeCapacitor/AArmoury_ChargeCapacitor_Charge</texPath>
							<graphicClass>Graphic_Random</graphicClass>
							<shaderType>CutoutComplex</shaderType>
						</value>
					</li>
				</graphicOverrides>
				
			</li>
		</value>
	</Operation>
	<Operation Class="PatchOperationAddModExtension">
		<xpath>Defs/WeaponTraitDef[defName = "EMPPulser"]</xpath>
		<value>
			<li Class="VEF.Weapons.WeaponTraitDefExtension">
				<graphicOverrideCommonality>0.001</graphicOverrideCommonality>
				<graphicOverrides>
					<li>
						<key>Gun_ChargeLance_Unique</key>
						<value>
							<texPath>Things/Weapon/AArmoury_EMPPulser/AArmoury_EMPPulser_Lance</texPath>
							<graphicClass>Graphic_Random</graphicClass>
							<shaderType>CutoutComplex</shaderType>
						</value>
					</li>
					
					<li>
						<key>Gun_ChargeRifle_Unique</key>
						<value>
							<texPath>Things/Weapon/AArmoury_EMPPulser/AArmoury_EMPPulser_Charge</texPath>
							<graphicClass>Graphic_Random</graphicClass>
							<shaderType>CutoutComplex</shaderType>
						</value>
					</li>
				</graphicOverrides>
				
			</li>
		</value>
	</Operation>
	<Operation Class="PatchOperationAddModExtension">
		<xpath>Defs/WeaponTraitDef[defName = "ShortenedBarrel"]</xpath>
		<value>
			<li Class="VEF.Weapons.WeaponTraitDefExtension">
				<graphicOverrideCommonality>0.001</graphicOverrideCommonality>
				<graphicOverrides>
					<li>
						<key>Gun_ChainShotgun_Unique</key>
						<value>
							<texPath>Things/Weapon/AArmoury_ShortenedBarrel</texPath>
							<graphicClass>Graphic_Random</graphicClass>
							<shaderType>CutoutComplex</shaderType>
						</value>
					</li>
					
					
				</graphicOverrides>
				
			</li>
		</value>
	</Operation>
	<Operation Class="PatchOperationAddModExtension">
		<xpath>Defs/WeaponTraitDef[defName = "ExtendedMagazine"]</xpath>
		<value>
			<li Class="VEF.Weapons.WeaponTraitDefExtension">
				<graphicOverrideCommonality>0.001</graphicOverrideCommonality>
				<graphicOverrides>
					<li>
						<key>Gun_ChainShotgun_Unique</key>
						<value>
							<texPath>Things/Weapon/AArmoury_ExtendedMagazine/AArmoury_ExtendedMagazine_Shotgun</texPath>
							<graphicClass>Graphic_Random</graphicClass>
							<shaderType>CutoutComplex</shaderType>
						</value>
					</li>
					<li>
						<key>Gun_AssaultRifle_Unique</key>
						<value>
							<texPath>Things/Weapon/AArmoury_ExtendedMagazine/AArmoury_ExtendedMagazine_Assault</texPath>
							<graphicClass>Graphic_Random</graphicClass>
							<shaderType>CutoutComplex</shaderType>
						</value>
					</li>
					<li>
						<key>Gun_ChargeRifle_Unique</key>
						<value>
							<texPath>Things/Weapon/AArmoury_ExtendedMagazine/AArmoury_ExtendedMagazine_Charge</texPath>
							<graphicClass>Graphic_Random</graphicClass>
							<shaderType>CutoutComplex</shaderType>
						</value>
					</li>
					<li>
						<key>Gun_BeamRepeater_Unique</key>
						<value>
							<texPath>Things/Weapon/AArmoury_ExtendedMagazine/AArmoury_ExtendedMagazine_Beam</texPath>
							<graphicClass>Graphic_Random</graphicClass>
							<shaderType>CutoutComplex</shaderType>
						</value>
					</li>
					<li>
						<key>Gun_HeavySMG_Unique</key>
						<value>
							<texPath>Things/Weapon/AArmoury_ExtendedMagazine/AArmoury_ExtendedMagazine_HMG</texPath>
							<graphicClass>Graphic_Random</graphicClass>
							<shaderType>CutoutComplex</shaderType>
						</value>
					</li>
					<li>
						<key>Gun_LMG_Unique</key>
						<value>
							<texPath>Things/Weapon/AArmoury_ExtendedMagazine/AArmoury_ExtendedMagazine_LMG</texPath>
							<graphicClass>Graphic_Random</graphicClass>
							<shaderType>CutoutComplex</shaderType>
						</value>
					</li>
				</graphicOverrides>
				
			</li>
		</value>
	</Operation>
	<Operation Class="PatchOperationAddModExtension">
		<xpath>Defs/WeaponTraitDef[defName = "FrequencyAmplifier"]</xpath>
		<value>
			<li Class="VEF.Weapons.WeaponTraitDefExtension">
				<graphicOverrideCommonality>0.001</graphicOverrideCommonality>
				<graphicOverrides>
					
					<li>
						<key>Gun_BeamRepeater_Unique</key>
						<value>
							<texPath>Things/Weapon/AArmoury_FrequencyAmplifier</texPath>
							<graphicClass>Graphic_Random</graphicClass>
							<shaderType>CutoutComplex</shaderType>
						</value>
					</li>
				</graphicOverrides>
				
			</li>
		</value>
	</Operation>
	<Operation Class="PatchOperationAddModExtension">
		<xpath>Defs/WeaponTraitDef[defName = "ImprovedSights"]</xpath>
		<value>
			<li Class="VEF.Weapons.WeaponTraitDefExtension">
				<graphicOverrideCommonality>0.001</graphicOverrideCommonality>
				<graphicOverrides>
					
					<li>
						<key>Gun_Revolver_Unique</key>
						<value>
							<texPath>Things/Weapon/AArmoury_ImprovedSights/AArmoury_ImprovedSights_Revolver</texPath>
							<graphicClass>Graphic_Random</graphicClass>
							<shaderType>CutoutComplex</shaderType>
						</value>
					</li>
				</graphicOverrides>
				
			</li>
		</value>
	</Operation>
	<Operation Class="PatchOperationAdd">
		<xpath>Defs/WeaponTraitDef[defName = "EMPLauncher"]/exclusionTags</xpath>
		<value>
			<li>AArmoury_EMPLauncher</li>
		</value>
	</Operation>
	<Operation Class="PatchOperationAdd">
		<xpath>Defs/WeaponTraitDef[defName = "IncendiaryLauncher"]/exclusionTags</xpath>
		<value>
			<li>AArmoury_IncendiaryLauncher</li>
		</value>
	</Operation>
	<Operation Class="PatchOperationFindMod">
		<mods>
			<li>Anomaly</li>
		</mods>
		<match Class="PatchOperationSequence">
			<operations>
				<li Class="PatchOperationAdd">
					<xpath>Defs/WeaponTraitDef[defName = "ExtendedBarrel"]/modExtensions/li[@Class="VEF.Weapons.WeaponTraitDefExtension"]/graphicOverrides</xpath>
					<value>
						<li>
							<key>Gun_HellcatRifle_Unique</key>
							<value>
								<texPath>Things/Weapon/AArmoury_ExtendedBarrel/AArmoury_ExtendedBarrel_Hellcat</texPath>
								<graphicClass>Graphic_Random</graphicClass>
								<shaderType>CutoutComplex</shaderType>
							</value>
						</li>
					</value>
				</li>
				<li Class="PatchOperationAdd">
					<xpath>Defs/WeaponTraitDef[defName = "ExtendedMagazine"]/modExtensions/li[@Class="VEF.Weapons.WeaponTraitDefExtension"]/graphicOverrides</xpath>
					<value>
						<li>
							<key>Gun_HellcatRifle_Unique</key>
							<value>
								<texPath>Things/Weapon/AArmoury_ExtendedMagazine/AArmoury_ExtendedMagazine_Hellcat</texPath>
								<graphicClass>Graphic_Random</graphicClass>
								<shaderType>CutoutComplex</shaderType>
							</value>
						</li>
					</value>
				</li>
				
			</operations>
		</match>
	</Operation>
</Patch>